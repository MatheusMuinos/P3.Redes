# Cliente/Servidor UDP de mayúsculas (descripcion)

Archivos
- 2_servidorUDP.c — servidor UDP que recibe líneas, las convierte a mayúsculas y las devuelve al remitente.
- 2_clienteUDP.c — cliente UDP que lee un archivo línea a línea, envía cada línea al servidor, recibe la línea convertida y la escribe en un archivo de salida (nombre entrada con sufijo _MAYUS).

Uso / compilación
- En la carpeta del proyecto (Windows con MinGW o WSL/Git Bash):
  gcc -o servidorUDP 2_servidorUDP.c
  gcc -o clienteUDP 2_clienteUDP.c

Ejecución
- Iniciar servidor (Terminal A):
  ./servidorUDP 12345

- Ejecutar cliente (Terminal B):
  ./clienteUDP entrada.txt 127.0.0.1 12345

Resultado
- El cliente crea un archivo de salida basado en el nombre de entrada con sufijo _MAYUS y contiene las mismas líneas pero en mayúsculas.
- El servidor imprime en su salida estándar cada datagrama recibido con la IP/puerto origen y el número de bytes.

Puntos importantes sobre la implementación actual
- Timeout: el cliente configura SO_RCVTIMEO (5 s). Si no recibe respuesta en ese tiempo, `recvfrom` falla.
- Sleep: el cliente incluye `sleep(10)` tras cada envío/recepción. Esto crea una ventana para lanzar un segundo cliente mientras el primero está esperando a enviar la siguiente línea.
- Líneas máximas: el cliente usa buffer `linha[1001]`; líneas mayores se truncarán. El servidor usa `buffer[2000]`.
- Comunicación: el servidor responde usando la dirección/puerto origen del datagrama recibido; cada cliente usa un puerto efímero distinto.
- UDP es no fiable: no hay garantías de entrega, orden ni duplicación. Para cargas altas o procesamiento lento pueden perderse datagramas.

Cómo comprobar que el servidor atiende varios clientes
1. Lanzar servidor (Terminal A).
2. Lanzar cliente 1 con un archivo de varias líneas (Terminal B). Tras cada línea enviada/recibida cliente1 duerme 10 s.
3. Mientras cliente1 está en sleep, lanzar cliente 2 (Terminal C) con otro archivo.
4. Observar en el servidor entradas intercaladas "Recibidos X bytes de <IP>:<puerto>" con diferentes puertos origen — esto demuestra que el servidor recibe y responde a datagramas de varios clientes.
5. Verificar que ambos clientes generan sus ficheros de salida con las líneas convertidas.

Observaciones finales
- El servidor es single-threaded y procesa datagramas secuencialmente; "atender varios clientes" significa que puede recibir y responder a datagramas de distintos clientes, pero el tratamiento se hace uno a uno.
- Para pruebas más avanzadas usar herramientas como tcpdump/Wireshark (ver puertos y tiempos) o ajustar buffers/timeouts. Si se quiere simultaneidad real en el procesamiento por cliente, considerar multi-threading o cola de trabajo en el servidor.